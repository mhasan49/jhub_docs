<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; JupyterHub  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> JupyterHub
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul class="simple">
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">JupyterHub</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/extra/howitworks.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p># How JupyterHub works</p>
<p>JupyterHub is a multi-user server that manages and proxies multiple instances of the single-user Jupyter notebook server.</p>
<p>There are three basic processes involved:</p>
<ul class="simple">
<li><p>multi-user Hub (Python/Tornado)</p></li>
<li><p>[configurable http proxy](<a class="reference external" href="https://github.com/jupyterhub/configurable-http-proxy">https://github.com/jupyterhub/configurable-http-proxy</a>) (node-http-proxy)</p></li>
<li><p>multiple single-user IPython notebook servers (Python/IPython/Tornado)</p></li>
</ul>
<p>The proxy is the only process that listens on a public interface.
The Hub sits behind the proxy at <cite>/hub</cite>.
Single-user servers sit behind the proxy at <cite>/user/[username]</cite>.</p>
<p>## Logging in</p>
<p>When a new browser logs in to JupyterHub, the following events take place:</p>
<ul class="simple">
<li><p>Login data is handed to the [Authenticator](#authentication) instance for validation</p></li>
<li><p>The Authenticator returns the username, if login information is valid</p></li>
<li><p>A single-user server instance is [Spawned](#spawning) for the logged-in user</p></li>
<li><p>When the server starts, the proxy is notified to forward <cite>/user/[username]/*</cite> to the single-user server</p></li>
<li><p>Two cookies are set, one for <cite>/hub/</cite> and another for <cite>/user/[username]</cite>,
containing an encrypted token.</p></li>
<li><p>The browser is redirected to <cite>/user/[username]</cite>, which is handled by the single-user server</p></li>
</ul>
<p>Logging into a single-user server is authenticated via the Hub:</p>
<ul class="simple">
<li><p>On request, the single-user server forwards the encrypted cookie to the Hub for verification</p></li>
<li><p>The Hub replies with the username if it is a valid cookie</p></li>
<li><p>If the user is the owner of the server, access is allowed</p></li>
<li><p>If it is the wrong user or an invalid cookie, the browser is redirected to <cite>/hub/login</cite></p></li>
</ul>
<p>## Customizing  JupyterHub</p>
<p>There are two basic extension points for JupyterHub: How users are authenticated,
and how their server processes are started.
Each is governed by a customizable class,
and JupyterHub ships with just the most basic version of each.</p>
<p>To enable custom authentication and/or spawning,
subclass Authenticator or Spawner,
and override the relevant methods.</p>
<p>### Authentication</p>
<p>Authentication is customizable via the Authenticator class.
Authentication can be replaced by any mechanism,
such as OAuth, Kerberos, etc.</p>
<p>JupyterHub only ships with [PAM](<a class="reference external" href="https://en.wikipedia.org/wiki/Pluggable_authentication_module">https://en.wikipedia.org/wiki/Pluggable_authentication_module</a>) authentication,
which requires the server to be run as root,
or at least with access to the PAM service,
which regular users typically do not have
(on Ubuntu, this requires being added to the <cite>shadow</cite> group).</p>
<p>[More info on custom Authenticators](authenticators.html).</p>
<p>See a list of custom Authenticators [on the wiki](<a class="reference external" href="https://github.com/jupyterhub/jupyterhub/wiki/Authenticators">https://github.com/jupyterhub/jupyterhub/wiki/Authenticators</a>).</p>
<p>### Spawning</p>
<p>Each single-user server is started by a Spawner.
The Spawner represents an abstract interface to a process,
and needs to be able to take three actions:</p>
<ol class="arabic simple">
<li><p>start the process</p></li>
<li><p>poll whether the process is still running</p></li>
<li><p>stop the process</p></li>
</ol>
<p>[More info on custom Spawners](spawners.html).</p>
<p>See a list of custom Spawners [on the wiki](<a class="reference external" href="https://github.com/jupyterhub/jupyterhub/wiki/Spawners">https://github.com/jupyterhub/jupyterhub/wiki/Spawners</a>).</p>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016, Project Jupyter team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>